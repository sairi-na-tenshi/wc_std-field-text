<!DOCTYPE html PUBLIC "-//TENSHI//DTD XHTML11 plus VML//EN" "http://mojura.110mb.com/i-component/xhtml11-vml.dtd" >
<html
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:v="urn:schemas-microsoft-com:vml"
	xmlns:i="urn:markup:iface"
	>
<?import namespace="v" implementation="#default#VML" ?>
<head>
	<title>iPanel!</title>
	<meta http-equiv="content-type" content="text/html;charset=utf-8" />
	<link href="../../-/-/compiled.css" rel="stylesheet" />
	<!--[if IE ]><script src="../../-/-/compiled_vml.js"></script><![endif]-->
	<script src="../../-/-/compiled.js" type="text/javascript"></script>
</head>
<body>

	<h1>iField</h1>

	<p>
		Это демонстрация различных полей пользовательского ввода.
		Прежде всего это обычная "строка текста".
	</p>

	<label>Поисковой запрос:
		<i:field-string>
			<input
				type="text"
				name="search_text"
				value="что будет если бросить лом в унитаз поезда"
				/>
		</i:field-string>
	</label>

	<p>Если поля предполагают, что текста в них будет немного, то имеет смысл поместить сразу 2 в одну строку.</p>

	<i:binom>
		<i:binom-left>
			<label>Имя:
				<i:field-string>
					<input type="text" name="comment_user_name" value="Аноним" />
				</i:field-string>
			</label>
		</i:binom-left>
		<i:binom-right>
			<label>Джаббер:
				<i:field-string>
					<input type="text" name="comment_user_email" value="dev@null" />
				</i:field-string>
			</label>
		</i:binom-right>
	</i:binom>

	<p>Но что если нужна не одна строка? Тогда на помощь нам приходит текстовое поле с возможностью подсветки синтаксисиса.</p>

	<label>
		<i:field-text i:lang="md">
			<textarea name="comment_body" cols="80" rows="10">
&lt;br /&gt;
! Примерная статья&lt;br /&gt;
&lt;br /&gt;
&gt; Эта статья целиком и полностью набрана в данном текстовом редакторе.&lt;br /&gt;
&lt;br /&gt;
!! Уже реализованные языки&lt;br /&gt;
&lt;br /&gt;
*`text`* - просто текст, никакой подсветки.&lt;br /&gt;
&lt;br /&gt;
*`md_inline`* - язык выделений похожий на "markdown". Для выделения текста используются звёздочка (`*`) и слэш (`/`). Коментарии окружаются скобками (`()`), цитаты - кавычками (`"`), код - бэктиками (``). Внутри кода подсветка не производится, остальные - можно произвольно вкладывать друг в друга. Чтобы какой-то символ не приводил к подсветке - достаточно его продублировать. Светлосерым выделяются символы, которые будут впоследствии вырезаны.&lt;br /&gt;
&lt;br /&gt;
*`md`* - язык разбиения текста на блоки похожий на "markdown". Заголовки помечаются вначале восклицательным знаком (одним, двумя или тремя) с пробелом (`! `), цитаты - угловой скобкой (`&gt; `), списки звёздочкой (`* `), програмный код двойным пробелом (`  `).&lt;br /&gt;
&lt;br /&gt;
*`code`* - програмный код. Специальная сигнатура вначале позволяет указать язык подсветки кода. Например, если добавить вначало строку `#!js`, то код будет подсвечен как яваскрипт.&lt;br /&gt;
&lt;br /&gt;
*`js`* - яваскрипт. Подсвечиваются строки, коментарии, ключевые слова.&lt;br /&gt;
&lt;br /&gt;
!! Пример языкового плагина `code`&lt;br /&gt;
&lt;br /&gt;
  #!js&lt;br /&gt;
  &lt;br /&gt;
  with( HLight ) lang.code_sign= FCached&lt;br /&gt;
  (   FPipe&lt;br /&gt;
      (   lang.text&lt;br /&gt;
      ,   TagWrapper( "hl:code-sign" )&lt;br /&gt;
      )&lt;br /&gt;
  )&lt;br /&gt;
  &lt;br /&gt;
  with( HLight ) lang.code= FCached( function( str ){&lt;br /&gt;
      return String( str || "" )&lt;br /&gt;
      .replace&lt;br /&gt;
      (   /^(\n?#![^\n]*(\w{2,})[^\n]*)?([\s\S]*)$/&lt;br /&gt;
      ,   function( str, sign, langName, content ){&lt;br /&gt;
              var langContent= lang[ langName ] || lang.text&lt;br /&gt;
              sign= sign ? lang.code_sign( sign ) : ""&lt;br /&gt;
              content= langContent( content )&lt;br /&gt;
              return sign + content&lt;br /&gt;
          }&lt;br /&gt;
      )&lt;br /&gt;
  })&lt;br /&gt;
			</textarea>
		</i:field-text>
	</label>

	<p>В ИЕ пока сильно глючит =_="</p>

</body>
</html>
